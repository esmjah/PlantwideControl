<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Model diagnosis</title>

</head>
<body>
<h2>Transformed model: ocpGaslift_OpenLoop_Sim</h2>
<pre>
optimization ocpGaslift_OpenLoop_Sim(objectiveIntegrand = net.p.fout.w[2] + gasPrice * (inputGas1 + inputGas2) + 0.1 * (zManifold1 + zManifold2 + zPipe),startTime = 0,finalTime = 3600)
 parameter Real net.x0[1] = 1.29622 /* 1.29622 */;
 parameter Real net.x0[2] = 9994300.0 /* 9994300.0 */;
 parameter Real net.x0[3] = 4855.59 /* 4855.59 */;
 parameter Real net.x0[4] = 337.873 /* 337.873 */;
 parameter Real net.x0[5] = 8066.91 /* 8066.91 */;
 parameter Real net.x0[6] = 1.32441 /* 1.32441 */;
 parameter Real net.x0[7] = 1.04289E7 /* 1.04289E7 */;
 parameter Real net.x0[8] = 5028.53 /* 5028.53 */;
 parameter Real net.x0[9] = 330.103 /* 330.103 */;
 parameter Real net.x0[10] = 8549.66 /* 8549.66 */;
 parameter Real net.x0[11] = 2543000.0 /* 2543000.0 */;
 parameter Real net.x0[12] = 1812.14 /* 1812.14 */;
 parameter Real net.x0[13] = 26909 /* 26909 */;
 parameter Real net.x0[14] = 46.412 /* 46.412 */;
 parameter Real net.x0[15] = 1563.45 /* 1563.45 */;
 Modelica.SIunits.Pressure net.Dp_w1(min = 0,nominal = 100000.0);
 Modelica.SIunits.Pressure net.Dp_w2(min = 0,nominal = 100000.0);
 parameter Modelica.SIunits.ThermodynamicTemperature net.w1sim.par.T_a(min = 315,max = 350,nominal = 100) = 323 /* 323 */;
 parameter Modelica.SIunits.MolarMass net.w1sim.par.M_G_a(min = 0.016,max = 0.025,nominal = 0.02) = 0.021 /* 0.021 */;
 parameter Modelica.SIunits.Length net.w1sim.par.L_a = 2048 /* 2048 */;
 parameter Modelica.SIunits.Length net.w1sim.par.D_a = 0.2 /* 0.2 */;
 parameter Modelica.SIunits.Volume net.w1sim.par.V_a = 65.98915368865362 /* 65.98915368865362 */;
 parameter Modelica.SIunits.Pressure net.w1sim.par.P_gs = 1.4E7 /* 1.4E7 */;
 parameter Real net.w1sim.par.K_a = 1.5559E-4 /* 1.5559E-4 */;
 parameter Real net.w1sim.par.K_f = 0.901 /* 0.901 */;
 parameter Real net.w1sim.par.K_i = 6.7E-4 /* 6.7E-4 */;
 parameter Real net.w1sim.par.Gamma = 1.7 /* 1.7 */;
 parameter Real net.w1sim.par.k1(min = 0.7,max = 1.5) = 0.95 /* 0.95 */;
 parameter Real net.w1sim.par.k2 = 0.9 /* 0.9 */;
 parameter Real net.w1sim.par.K_alpha(min = 0.5,max = 1.5) = 0.947 /* 0.947 */;
 parameter Modelica.SIunits.Time net.w1sim.par.Tp1 = 600 /* 600 */;
 parameter Modelica.SIunits.Time net.w1sim.par.Tp2 = 900 /* 900 */;
 parameter Real net.w1sim.par.Slope_z(fixed = true) = 1.4E-8 /* 1.4E-8 */;
 parameter Modelica.SIunits.Pressure net.w1sim.par.P_z(start = 1.0E7,min = 8000000.0,max = 1.55E7,nominal = 100000.0);
 parameter Real net.w1sim.par.Z_ca = 0.927 /* 0.927 */;
 parameter Real net.w1sim.par.Z_ct = 0.99 /* 0.99 */;
 parameter Modelica.SIunits.MassFlowRate net.w1sim.par.w_g_a_in = 1.012 /* 1.012 */;
 parameter Modelica.SIunits.Pressure net.w1sim.par.Pat = 8630000.0 /* 8630000.0 */;
 parameter Modelica.SIunits.DynamicViscosity net.w1sim.par.my_L = 3.64E-4 /* 3.64E-4 */;
 parameter Modelica.SIunits.DynamicViscosity net.w1sim.par.my_G = 1.5E-5 /* 1.5E-5 */;
 parameter Modelica.SIunits.Density net.w1sim.par.rho_L(min = 740,max = 800,nominal = 100) = 769.98 /* 769.98 */;
 parameter Modelica.SIunits.ThermodynamicTemperature net.w1sim.par.T_r(min = 340,max = 380,nominal = 100) = 369 /* 369 */;
 parameter Modelica.SIunits.MolarMass net.w1sim.par.M_G_r_t(min = 0.016,max = 0.025,nominal = 0.02) = 0.021 /* 0.021 */;
 parameter Modelica.SIunits.MolarMass net.w1sim.par.M_G_r(min = 0.016,max = 0.025,nominal = 0.02) = 0.02 /* 0.02 */;
 parameter Real net.w1sim.par.PI_nom = 2.47E-6 /* 2.47E-6 */;
 parameter Modelica.SIunits.Length net.w1sim.par.D_w = 0.124 /* 0.124 */;
 parameter Modelica.SIunits.Length net.w1sim.par.L_r = 2048 /* 2048 */;
 parameter Modelica.SIunits.Length net.w1sim.par.L_h = 25 /* 25 */;
 parameter Modelica.SIunits.Length net.w1sim.par.ew = 4.5E-5 /* 4.5E-5 */;
 parameter Modelica.SIunits.Length net.w1sim.par.ep = 3.0E-5 /* 3.0E-5 */;
 parameter Modelica.SIunits.Length net.w1sim.par.L_bh = 100 /* 100 */;
 parameter Modelica.SIunits.Area net.w1sim.par.S_bh = 0.031415926535897934 /* 0.031415926535897934 */;
 parameter Modelica.SIunits.Length net.w1sim.par.D_b = 0.2 /* 0.2 */;
 parameter Modelica.SIunits.Pressure net.w1sim.par.P_r = 1.6E7 /* 1.6E7 */;
 parameter Real net.w1sim.par.GOR_nom(min = 0,max = 100) = 0 /* 0 */;
 parameter Modelica.SIunits.MassFlowRate net.w1sim.par.w_res_in = 17 /* 17 */;
 parameter Real net.w1sim.par.z1 = 0.7 /* 0.7 */;
 parameter Modelica.SIunits.Pressure net.w1sim.par.Pbh = 8728310 /* 8728310 */;
 parameter Modelica.SIunits.Pressure net.w1sim.par.Ptt = 1850900 /* 1850900 */;
 parameter Modelica.SIunits.Pressure net.w1sim.par.Ptb = 8161975 /* 8161975 */;
 parameter Real net.w1sim.par.CD = 0.84 /* 0.84 */;
 parameter Modelica.SIunits.Length net.w1sim.par.D_c = 0.07 /* 0.07 */;
 parameter Modelica.SIunits.Area net.w1sim.par.A_c = 0.003848451000647497 /* 0.003848451000647497 */;
 parameter Real net.w1sim.softApprox(fixed = true) = 0.001 /* 0.001 */;
 parameter Real net.w1sim.softPApprox(fixed = true) = 1 /* 1 */;
 parameter Real net.w1sim.softDivision(fixed = true) = 0.01 /* 0.01 */;
 parameter Modelica.SIunits.Length net.w1sim.r_r;
 parameter Modelica.SIunits.Volume net.w1sim.V_r;
 parameter Modelica.SIunits.Volume net.w1sim.V_bh;
 parameter Modelica.SIunits.Pressure net.w2sim.par.P_z(start = 1.0E7,min = 8000000.0,max = 1.55E7,nominal = 100000.0);
 parameter Modelica.SIunits.Length net.w2sim.r_r;
 parameter Modelica.SIunits.Volume net.w2sim.V_r;
 Modelica.SIunits.Pressure net.w1sim.fin.p(start = 6500000.0,nominal = 100000.0,min = 0);
 Modelica.SIunits.MassFlowRate net.w1sim.fin.w(start = 1.4,nominal = 1,min = 0);
 Modelica.SIunits.Pressure net.w1sim.fout.p(start = 2500000.0,nominal = 100000.0,min = 0);
 Modelica.SIunits.MassFlowRate net.w1sim.fout.w[1](start = -1.0E-5,nominal = 10,max = 0);
 Modelica.SIunits.MassFlowRate net.w1sim.fout.w[2](start = -1.0E-6,nominal = 10,max = 0);
 Modelica.SIunits.Pressure net.w1sim.P_a_b(start = 7500000.0);
 Modelica.SIunits.Density net.w1sim.rho_G_a_b(start = 56);
 parameter Modelica.SIunits.Volume net.w2sim.V_bh;
 parameter Modelica.SIunits.Area net.m.A(fixed = true);
 parameter Modelica.SIunits.Area net.p.par.A1;
 parameter Modelica.SIunits.Area net.p.par.A2;
 parameter Modelica.SIunits.Height net.p.par.hc;
 Modelica.SIunits.Velocity net.w1sim.Usg_av(start = 10,nominal = 10,min = 0);
 Modelica.SIunits.Velocity net.w1sim.U_M_av(start = 11,nominal = 10,min = 0);
 Modelica.SIunits.Density net.w1sim.rho_G_r(start = 11,min = 0);
 Modelica.SIunits.Density net.w1sim.rho_mix(min = 0);
 Real net.w1sim.alpha_L_av(min = 0,max = 1);
 Modelica.SIunits.Pressure net.w1sim.P_r_t(start = 2600000.0,nominal = 2000000.0,min = 1000000.0);
 Modelica.SIunits.DynamicViscosity net.w1sim.my_mix(start = 1.0E-4);
 Modelica.SIunits.ReynoldsNumber net.w1sim.Re(start = 2000000.0,nominal = 100000.0,min = 0);
 Real net.w1sim.lambda(min = 0,start = 0.15,nominal = 0.01);
 parameter Modelica.SIunits.MassFlowRate net.p.par.w_mix;
 Modelica.SIunits.Pressure net.w1sim.F_riser(start = 6600000.0,nominal = 100000.0,min = 0);
 Modelica.SIunits.Pressure net.w1sim.deltaP_valve(start = 150000.0,nominal = 100000.0,min = 0);
 parameter Modelica.SIunits.Density net.p.par.rho_G1;
 parameter Modelica.SIunits.DynamicViscosity net.p.par.vism_p;
 parameter Modelica.SIunits.Density net.p.par.rho_G2;
 parameter Modelica.SIunits.Area net.p.A1(fixed = true);
 Modelica.SIunits.Pressure net.w1sim.P_bh(start = 6130000.0,min = 0,max = net.w1sim.par.P_r,nominal = 100000.0);
 Modelica.SIunits.Pressure net.w1sim.P_bh_f(min = 8000000.0,max = 1.2E7,nominal = 100000.0,start = net.x0[2]);
 Modelica.SIunits.Pressure net.w1sim.P_r_b(start = 6130000.0,min = 0);
 Modelica.SIunits.MassFlowRate net.w1sim.w_r_in(start = 17,min = 0);
 Modelica.SIunits.MassFlowRate net.w1sim.w_L_r_in(start = 1,min = 0);
 Modelica.SIunits.MassFlowRate net.w1sim.w_G_r_in(start = 0,min = 0);
 Modelica.SIunits.MassFlowRate net.w1sim.w_G_iph(start = 0,min = 0);
 Modelica.SIunits.MassFlowRate net.w1sim.w_G_inj(start = 1,min = 0);
 Modelica.SIunits.MassFlowRate net.w1sim.w_G_f(start = net.x0[1],nominal = net.x0[1],min = 0);
 Modelica.SIunits.Density net.w1sim.rho_G_r_b(start = 30,min = 0);
 Real net.w1sim.alpha_L_in(min = 0,max = 1,start = 0.33);
 Modelica.SIunits.VolumeFraction net.w1sim.alpha_L_t_max(min = 0.01,max = 1,start = 0.16);
 Modelica.SIunits.VolumeFraction net.w1sim.alpha_L_t_min(min = 0.01,max = 1,start = 0.16);
 Modelica.SIunits.VolumeFraction net.w1sim.alpha_L_t(min = 0.01,max = 1,start = 0.16);
 Modelica.SIunits.VolumeFraction net.w1sim.alpha_G_t(min = 0.01,max = 1,start = 0.8);
 Modelica.SIunits.Density net.w1sim.rho_M_t(start = 300,min = 0);
 Modelica.SIunits.MassFlowRate net.w1sim.w_mix_out(start = 15,min = 5,max = 40);
 Modelica.SIunits.MassFlowRate net.w1sim.w_G_out(start = 1,min = 0.5,max = 3);
 Modelica.SIunits.MassFlowRate net.w1sim.w_L_out(start = 15,min = 5,max = 36);
 Real net.w1sim.alpha_L_m_t(min = 0.05,max = 1,start = 0.8);
 Real net.w1sim.GOR_m_t(min = 0.01,max = 1,start = 0.2);
 Modelica.SIunits.Pressure net.w1sim.delta_p_inj(min = 10000.0,nominal = 100000.0);
 Modelica.SIunits.Mass net.w1sim.m_Ga(min = 3500,max = 6000,nominal = 4700,start = net.x0[3],fixed = true);
 Modelica.SIunits.Mass net.w1sim.m_Gw(min = 150,max = 600,nominal = 400,start = net.x0[4],fixed = true);
 Modelica.SIunits.Mass net.w1sim.m_Lw(min = 5000,max = 12000,nominal = 7000,start = net.x0[5],fixed = true);
 parameter Modelica.SIunits.ThermodynamicTemperature net.w2sim.par.T_a(min = 315,max = 350,nominal = 100) = 323 /* 323 */;
 parameter Modelica.SIunits.MolarMass net.w2sim.par.M_G_a(min = 0.016,max = 0.025,nominal = 0.02) = 0.021 /* 0.021 */;
 parameter Modelica.SIunits.Length net.w2sim.par.L_a = 2048 /* 2048 */;
 parameter Modelica.SIunits.Length net.w2sim.par.D_a = 0.2 /* 0.2 */;
 parameter Modelica.SIunits.Volume net.w2sim.par.V_a = 65.98915368865362 /* 65.98915368865362 */;
 parameter Modelica.SIunits.Pressure net.w2sim.par.P_gs = 1.4E7 /* 1.4E7 */;
 parameter Real net.w2sim.par.K_a = 1.5559E-4 /* 1.5559E-4 */;
 parameter Real net.w2sim.par.K_f = 0.8602 /* 0.8602 */;
 parameter Real net.w2sim.par.K_i = 6.7E-4 /* 6.7E-4 */;
 parameter Real net.w2sim.par.Gamma = 1.7 /* 1.7 */;
 parameter Real net.w2sim.par.k1(min = 0.7,max = 1.5) = 0.95 /* 0.95 */;
 parameter Real net.w2sim.par.k2 = 0.9 /* 0.9 */;
 parameter Real net.w2sim.par.K_alpha(min = 0.5,max = 1.5) = 0.9525 /* 0.9525 */;
 parameter Modelica.SIunits.Time net.w2sim.par.Tp1 = 600 /* 600 */;
 parameter Modelica.SIunits.Time net.w2sim.par.Tp2 = 900 /* 900 */;
 parameter Real net.w2sim.par.Slope_z(fixed = true) = 1.4E-8 /* 1.4E-8 */;
 parameter Modelica.SIunits.Area net.p.A2(fixed = true);
 parameter Real net.w2sim.par.Z_ca = 0.933 /* 0.933 */;
 parameter Real net.w2sim.par.Z_ct = 0.99 /* 0.99 */;
 parameter Modelica.SIunits.MassFlowRate net.w2sim.par.w_g_a_in = 1.012 /* 1.012 */;
 parameter Modelica.SIunits.Pressure net.w2sim.par.Pat = 8630000.0 /* 8630000.0 */;
 parameter Modelica.SIunits.DynamicViscosity net.w2sim.par.my_L = 3.64E-4 /* 3.64E-4 */;
 parameter Modelica.SIunits.DynamicViscosity net.w2sim.par.my_G = 1.5E-5 /* 1.5E-5 */;
 parameter Modelica.SIunits.Density net.w2sim.par.rho_L(min = 740,max = 800,nominal = 100) = 785.53 /* 785.53 */;
 parameter Modelica.SIunits.ThermodynamicTemperature net.w2sim.par.T_r(min = 340,max = 380,nominal = 100) = 369 /* 369 */;
 parameter Modelica.SIunits.MolarMass net.w2sim.par.M_G_r_t(min = 0.016,max = 0.025,nominal = 0.02) = 0.021 /* 0.021 */;
 parameter Modelica.SIunits.MolarMass net.w2sim.par.M_G_r(min = 0.016,max = 0.025,nominal = 0.02) = 0.02 /* 0.02 */;
 parameter Real net.w2sim.par.PI_nom = 2.47E-6 /* 2.47E-6 */;
 parameter Modelica.SIunits.Length net.w2sim.par.D_w = 0.124 /* 0.124 */;
 parameter Modelica.SIunits.Length net.w2sim.par.L_r = 2048 /* 2048 */;
 parameter Modelica.SIunits.Length net.w2sim.par.L_h = 25 /* 25 */;
 parameter Modelica.SIunits.Length net.w2sim.par.ew = 4.5E-5 /* 4.5E-5 */;
 parameter Modelica.SIunits.Length net.w2sim.par.ep = 3.0E-5 /* 3.0E-5 */;
 parameter Modelica.SIunits.Length net.w2sim.par.L_bh = 100 /* 100 */;
 parameter Modelica.SIunits.Area net.w2sim.par.S_bh = 0.031415926535897934 /* 0.031415926535897934 */;
 parameter Modelica.SIunits.Length net.w2sim.par.D_b = 0.2 /* 0.2 */;
 parameter Modelica.SIunits.Pressure net.w2sim.par.P_r = 1.7E7 /* 1.7E7 */;
 parameter Real net.w2sim.par.GOR_nom(min = 0,max = 100) = 0 /* 0 */;
 parameter Modelica.SIunits.MassFlowRate net.w2sim.par.w_res_in = 17 /* 17 */;
 parameter Real net.w2sim.par.z1 = 0.7 /* 0.7 */;
 parameter Modelica.SIunits.Pressure net.w2sim.par.Pbh = 8728310 /* 8728310 */;
 parameter Modelica.SIunits.Pressure net.w2sim.par.Ptt = 1850900 /* 1850900 */;
 parameter Modelica.SIunits.Pressure net.w2sim.par.Ptb = 8161975 /* 8161975 */;
 parameter Real net.w2sim.par.CD = 0.84 /* 0.84 */;
 parameter Modelica.SIunits.Length net.w2sim.par.D_c = 0.07 /* 0.07 */;
 parameter Modelica.SIunits.Area net.w2sim.par.A_c = 0.003848451000647497 /* 0.003848451000647497 */;
 parameter Real net.w2sim.softApprox(fixed = true) = 0.001 /* 0.001 */;
 parameter Real net.w2sim.softPApprox(fixed = true) = 1 /* 1 */;
 parameter Real net.w2sim.softDivision(fixed = true) = 0.01 /* 0.01 */;
 parameter Modelica.SIunits.Height net.p.hc(fixed = true);
 parameter Real Pr1.k(start = 1) "Constant output value";
 parameter Real Pr2.k(start = 1) "Constant output value";
 parameter Real Alpha_Gm1.k(start = 1) "Constant output value";
 parameter Real Alpha_Gm2.k(start = 1) "Constant output value";
 parameter Real u1.k(start = 1) "Constant output value";
 Modelica.SIunits.Pressure net.w2sim.fin.p(start = 6500000.0,nominal = 100000.0,min = 0);
 Modelica.SIunits.MassFlowRate net.w2sim.fin.w(start = 1.4,nominal = 1,min = 0);
 Modelica.SIunits.Pressure net.w2sim.fout.p(start = 2500000.0,nominal = 100000.0,min = 0);
 Modelica.SIunits.MassFlowRate net.w2sim.fout.w[1](start = -1.0E-5,nominal = 10,max = 0);
 Modelica.SIunits.MassFlowRate net.w2sim.fout.w[2](start = -1.0E-6,nominal = 10,max = 0);
 Modelica.SIunits.Pressure net.w2sim.P_a_b(start = 7500000.0);
 Modelica.SIunits.Density net.w2sim.rho_G_a_b(start = 56);
 parameter Real u2.k(start = 1) "Constant output value";
 parameter Real up.k(start = 1) "Constant output value";
 parameter Modelica.SIunits.Velocity net.w1sim.Ul_b(start = 2.07);
 parameter Modelica.SIunits.Velocity net.w2sim.Ul_b(start = 2.07);
 parameter Real net.p.Z_c(min = 0.5,max = 1.5,start = 1);
 Modelica.SIunits.Velocity net.w2sim.Usg_av(start = 10,nominal = 10,min = 0);
 Modelica.SIunits.Velocity net.w2sim.U_M_av(start = 11,nominal = 10,min = 0);
 Modelica.SIunits.Density net.w2sim.rho_G_r(start = 11,min = 0);
 Modelica.SIunits.Density net.w2sim.rho_mix(min = 0);
 Real net.w2sim.alpha_L_av(min = 0,max = 1);
 Modelica.SIunits.Pressure net.w2sim.P_r_t(start = 2600000.0,nominal = 2000000.0,min = 1000000.0);
 Modelica.SIunits.DynamicViscosity net.w2sim.my_mix(start = 1.0E-4);
 Modelica.SIunits.ReynoldsNumber net.w2sim.Re(start = 2000000.0,nominal = 100000.0,min = 0);
 Real net.w2sim.lambda(min = 0,start = 0.15,nominal = 0.01);
 parameter Modelica.Blocks.Interfaces.RealOutput dPI1.y "Connector of Real output signal";
 Modelica.SIunits.Pressure net.w2sim.F_riser(start = 6600000.0,nominal = 100000.0,min = 0);
 Modelica.SIunits.Pressure net.w2sim.deltaP_valve(start = 150000.0,nominal = 100000.0,min = 0);
 parameter Modelica.Blocks.Interfaces.RealOutput dPI2.y "Connector of Real output signal";
 parameter Modelica.Blocks.Interfaces.RealOutput dPsep.y "Connector of Real output signal";
 parameter Modelica.SIunits.Velocity net.p.par.Uslin;
 parameter Modelica.SIunits.Velocity net.p.par.Usl2;
 Modelica.SIunits.Pressure net.w2sim.P_bh(start = 6130000.0,min = 0,max = net.w2sim.par.P_r,nominal = 100000.0);
 Modelica.SIunits.Pressure net.w2sim.P_bh_f(min = 8000000.0,max = 1.2E7,nominal = 100000.0,start = net.x0[7]);
 Modelica.SIunits.Pressure net.w2sim.P_r_b(start = 6130000.0,min = 0);
 Modelica.SIunits.MassFlowRate net.w2sim.w_r_in(start = 17,min = 0);
 Modelica.SIunits.MassFlowRate net.w2sim.w_L_r_in(start = 1,min = 0);
 Modelica.SIunits.MassFlowRate net.w2sim.w_G_r_in(start = 0,min = 0);
 Modelica.SIunits.MassFlowRate net.w2sim.w_G_iph(start = 0,min = 0);
 Modelica.SIunits.MassFlowRate net.w2sim.w_G_inj(start = 1,min = 0);
 Modelica.SIunits.MassFlowRate net.w2sim.w_G_f(start = net.x0[6],nominal = net.x0[6],min = 0);
 Modelica.SIunits.Density net.w2sim.rho_G_r_b(start = 30,min = 0);
 Real net.w2sim.alpha_L_in(min = 0,max = 1,start = 0.33);
 Modelica.SIunits.VolumeFraction net.w2sim.alpha_L_t_max(min = 0.01,max = 1,start = 0.16);
 Modelica.SIunits.VolumeFraction net.w2sim.alpha_L_t_min(min = 0.01,max = 1,start = 0.16);
 Modelica.SIunits.VolumeFraction net.w2sim.alpha_L_t(min = 0.01,max = 1,start = 0.16);
 Modelica.SIunits.VolumeFraction net.w2sim.alpha_G_t(min = 0.01,max = 1,start = 0.8);
 Modelica.SIunits.Density net.w2sim.rho_M_t(start = 300,min = 0);
 Modelica.SIunits.MassFlowRate net.w2sim.w_mix_out(start = 15,min = 5,max = 40);
 Modelica.SIunits.MassFlowRate net.w2sim.w_G_out(start = 1,min = 0.5,max = 3);
 Modelica.SIunits.MassFlowRate net.w2sim.w_L_out(start = 15,min = 5,max = 36);
 Real net.w2sim.alpha_L_m_t(min = 0.05,max = 1,start = 0.8);
 Real net.w2sim.GOR_m_t(min = 0.01,max = 1,start = 0.2);
 Modelica.SIunits.Pressure net.w2sim.delta_p_inj(min = 10000.0,nominal = 100000.0);
 Modelica.SIunits.Mass net.w2sim.m_Ga(min = 3500,max = 6000,nominal = 4700,start = net.x0[8],fixed = true);
 Modelica.SIunits.Mass net.w2sim.m_Gw(min = 150,max = 600,nominal = 400,start = net.x0[9],fixed = true);
 Modelica.SIunits.Mass net.w2sim.m_Lw(min = 5000,max = 12000,nominal = 7500,start = net.x0[10],fixed = true);
 parameter Modelica.SIunits.Density net.m.par.rho_L(min = 700,max = 830) = 735 /* 735 */;
 parameter Modelica.SIunits.Radius net.m.par.r(min = 0.05,max = 0.2) = 0.1016 /* 0.1016 */;
 parameter Modelica.SIunits.Length net.m.par.L(min = 100,max = 400) = 800 /* 800 */;
 parameter Modelica.SIunits.ThermodynamicTemperature net.m.par.T(min = 320,max = 370,nominal = 100) = 368 /* 368 */;
 parameter Modelica.SIunits.MolarMass net.m.par.M_G(min = 0.02,max = 0.025) = 0.019 /* 0.019 */;
 parameter Modelica.SIunits.DynamicViscosity net.m.par.visl(min = 1.226E-4,max = 1.626E-4) = 1.426E-4 /* 1.426E-4 */;
 parameter Modelica.SIunits.DynamicViscosity net.m.par.visg = 1.39E-5 /* 1.39E-5 */;
 parameter Modelica.SIunits.Length net.m.par.eps(min = 2.6E-5,max = 3.0E-5) = 2.8E-5 /* 2.8E-5 */;
 parameter Real net.m.par.Alpha_L_av(min = 0.2,max = 0.4) = 0.2576 /* 0.2576 */;
 parameter Modelica.SIunits.Height net.p.par.h1ss;
 parameter Real net.m.softPApprox(fixed = true) = 1 /* 1 */;
 parameter Real net.m.softApprox(fixed = true) = 0.001 /* 0.001 */;
 Modelica.SIunits.Pressure net.m.fin.p(start = 2170000.0,nominal = 100000.0,min = 0);
 Modelica.SIunits.MassFlowRate net.m.fin.w[1](start = 2,nominal = 1,min = 0);
 Modelica.SIunits.MassFlowRate net.m.fin.w[2](start = 29,nominal = 1,min = 0);
 Modelica.SIunits.Pressure net.m.fout.p(start = 5000000.0,nominal = 100000.0,min = 0);
 Modelica.SIunits.MassFlowRate net.m.fout.w[1](start = -2,nominal = 10,max = 0);
 Modelica.SIunits.MassFlowRate net.m.fout.w[2](start = -29,nominal = 10,max = 0);
 parameter Modelica.SIunits.Pressure net.m.Fric(start = 100000.0) = 18105 /* 18105 */;
 parameter Real net.p.par.k_h(min = 0.5,max = 1.2,nominal = 1) = 0.74 /* 0.74 */;
 parameter Real net.p.par.K_gT(min = 0.5,max = 2,nominal = 1) = 0.83 /* 0.83 */;
 parameter Real net.p.par.K_oT(min = 0.5,max = 4,nominal = 1) = 2 /* 2 */;
 parameter Real net.p.par.K_alpha(min = 0.5,max = 1.5) = 0.72 /* 0.72 */;
 parameter Real net.p.par.K_i = 0.014 /* 0.014 */;
 parameter Real net.p.par.Gamma = 1.7576 /* 1.7576 */;
 parameter Real net.p.par.K_f = 0.7 /* 0.7 */;
 parameter Real net.p.par.Slope_z(fixed = true) = -0.00143 /* -0.00143 */;
 parameter Modelica.SIunits.Pressure net.p.par.P_z = 2101340.0 /* 2101340.0 */;
 parameter Real net.p.par.Z_c0 = 0.95 /* 0.95 */;
 parameter Modelica.SIunits.Density net.p.par.rho_L(min = 700,max = 830) = 750 /* 750 */;
 parameter Modelica.SIunits.Density net.p.par.rho_w(min = 900,max = 1100) = 1000 /* 1000 */;
 parameter Modelica.SIunits.Angle net.p.par.theta(min = 0.5 * 3.141592653589793 / 180,max = 2 * 3.141592653589793 / 180) = 0.017453292519943295 /* 0.017453292519943295 */;
 parameter Modelica.SIunits.Radius net.p.par.r1(min = 0.05,max = 0.2) = 0.1016 /* 0.1016 */;
 parameter Modelica.SIunits.Radius net.p.par.r2(min = 0.04,max = 0.2) = 0.1016 /* 0.1016 */;
 parameter Modelica.SIunits.Length net.p.par.Lm(min = 100,max = 400) = 700 /* 700 */;
 parameter Modelica.SIunits.Length net.p.par.L1(min = 4100,max = 4400) = 4300 /* 4300 */;
 parameter Modelica.SIunits.Height net.p.par.L2(min = 280,max = 320) = 300 /* 300 */;
 parameter Modelica.SIunits.Length net.p.par.L3(min = 90,max = 110) = 100 /* 100 */;
 parameter Modelica.SIunits.ThermodynamicTemperature net.p.par.T1(min = 320,max = 370,nominal = 100) = 368 /* 368 */;
 parameter Modelica.SIunits.ThermodynamicTemperature net.p.par.T2(min = 320,max = 370,nominal = 100) = 344.5 /* 344.5 */;
 parameter Modelica.SIunits.MolarMass net.p.par.M_Gp(min = 0.02,max = 0.025) = 0.02 /* 0.02 */;
 parameter Modelica.SIunits.MolarMass net.p.par.M_Gr(min = 0.02,max = 0.025) = 0.02 /* 0.02 */;
 parameter Modelica.SIunits.Time net.p.par.Tf = 400 /* 400 */;
 parameter Modelica.SIunits.DynamicViscosity net.p.par.visl(min = 1.226E-4,max = 1.626E-4) = 1.426E-4 /* 1.426E-4 */;
 parameter Modelica.SIunits.DynamicViscosity net.p.par.visg = 1.39E-5 /* 1.39E-5 */;
 parameter Modelica.SIunits.Length net.p.par.eps(min = 2.6E-5,max = 3.0E-5) = 2.8E-5 /* 2.8E-5 */;
 parameter Real net.p.par.Cd = 0.83 /* 0.83 */;
 parameter Modelica.SIunits.Length net.p.par.D_c = 0.17779999999999999 /* 0.17779999999999999 */;
 parameter Modelica.SIunits.Area net.p.par.A_c = 0.024828666475777385 /* 0.024828666475777385 */;
 parameter Modelica.SIunits.VolumeFraction net.p.par.Alpha_L1_ss = 0.2576 /* 0.2576 */;
 parameter Real net.p.par.z0(min = 0.03,max = 1) = 0.5 /* 0.5 */;
 parameter Modelica.SIunits.Pressure net.p.par.P0(min = 200000.0,max = 7020000.0) = 515600.0 /* 515600.0 */;
 parameter Modelica.SIunits.Pressure net.p.par.P1(min = 1000000.0,max = 4000000.0) = 2279050.0 /* 2279050.0 */;
 parameter Modelica.SIunits.Pressure net.p.par.P2_t(min = 500000.0,max = 700000.0) = 596184.0 /* 596184.0 */;
 parameter Modelica.SIunits.MassFlowRate net.p.par.wG_in(min = 0,max = 100) = 2.104 /* 2.104 */;
 parameter Modelica.SIunits.MassFlowRate net.p.par.wL_in(min = 0,max = 100) = 29.8761 /* 29.8761 */;
 parameter Modelica.SIunits.Density net.p.par.rho_mix1;
 parameter Modelica.SIunits.Velocity net.p.par.Usgin;
 parameter Real net.p.par.softApprox(fixed = true) = 0.001 /* 0.001 */;
 parameter Modelica.SIunits.MassFraction net.p.par.Alpha_Lt;
 parameter Modelica.SIunits.Volume net.p.V1(fixed = true);
 parameter Modelica.SIunits.Volume net.p.V2(fixed = true);
 parameter Modelica.Blocks.Interfaces.RealOutput Pr1.y "Connector of Real output signal";
 parameter Modelica.Blocks.Interfaces.RealOutput Pr2.y "Connector of Real output signal";
 parameter Modelica.Blocks.Interfaces.RealOutput Alpha_Gm1.y "Connector of Real output signal";
 parameter Modelica.Blocks.Interfaces.RealOutput Alpha_Gm2.y "Connector of Real output signal";
 parameter Modelica.Blocks.Interfaces.RealOutput u1.y "Connector of Real output signal";
 parameter Modelica.Blocks.Interfaces.RealOutput u2.y "Connector of Real output signal";
 parameter Modelica.Blocks.Interfaces.RealOutput up.y "Connector of Real output signal";
 parameter Modelica.SIunits.ReynoldsNumber net.w1sim.Re_b(start = 510000.0);
 parameter Modelica.SIunits.ReynoldsNumber net.w2sim.Re_b(start = 510000.0);
 parameter Modelica.Blocks.Interfaces.RealInput net.w1sim.d_PI(min = -10,max = 10,start = 0);
 parameter Modelica.Blocks.Interfaces.RealInput net.w2sim.d_PI(min = -10,max = 10,start = 0);
 parameter Modelica.Blocks.Interfaces.RealInput net.sep.d_Psep(min = -200000.0,max = 200000.0,start = 0);
 parameter Modelica.SIunits.Area net.p.par.A_g;
 parameter Modelica.SIunits.Velocity net.p.par.Umin;
 parameter Modelica.SIunits.Density net.p.par.rho_t;
 parameter Modelica.SIunits.Mass net.p.m_lp0t;
 parameter Modelica.Blocks.Interfaces.RealInput net.w1sim.P_res(min = 150,max = 180,start = 160);
 parameter Modelica.Blocks.Interfaces.RealInput net.w2sim.P_res(min = 150,max = 180,start = 160);
 parameter Modelica.Blocks.Interfaces.RealInput net.w1sim.alpha_Gm(min = 0,max = 0.1,start = 0);
 parameter Modelica.Blocks.Interfaces.RealInput net.w2sim.alpha_Gm(min = 0,max = 0.1,start = 0);
 parameter Modelica.Blocks.Interfaces.RealInput net.w1sim.z1(min = 0,max = 1,start = 0.5);
 parameter Modelica.Blocks.Interfaces.RealInput net.w2sim.z1(min = 0,max = 1,start = 0.5);
 parameter Modelica.Blocks.Interfaces.RealInput net.p.z(min = 0,max = 1,start = 0.5);
 parameter Real net.w1sim.lambda_b(min = 0,start = 0.015);
 parameter Real net.w2sim.lambda_b(min = 0,start = 0.015);
 parameter Real net.w1sim.PI(min = 0.5 * net.w1sim.par.PI_nom,max = 2 * net.w1sim.par.PI_nom,start = net.w1sim.par.PI_nom);
 parameter Real net.w2sim.PI(min = 0.5 * net.w2sim.par.PI_nom,max = 2 * net.w2sim.par.PI_nom,start = net.w2sim.par.PI_nom);
 parameter Modelica.SIunits.Pressure net.sep.Psep(start = net.sep.Psep_nom,min = 400000.0,max = 600000.0);
 parameter Modelica.SIunits.Area net.p.par.A_l;
 parameter Modelica.SIunits.Velocity net.p.par.v_G1;
 parameter Modelica.SIunits.ReynoldsNumber net.p.par.Re1;
 parameter Real net.w1sim.alpha_G_m_in(min = 0,max = 1,start = 0);
 parameter Real net.w2sim.alpha_G_m_in(min = 0,max = 1,start = 0);
 parameter Real net.w1sim.u(min = 1.0E-4,max = 1);
 parameter Real net.p.softApprox(fixed = true) = 0.001 /* 0.001 */;
 parameter Real net.p.softPApprox(fixed = true) = 1 /* 1 */;
 Modelica.SIunits.Pressure net.p.fin.p(start = 2170000.0,nominal = 100000.0,min = 0);
 Modelica.SIunits.MassFlowRate net.p.fin.w[1](start = 2,nominal = 1,min = 0);
 Modelica.SIunits.MassFlowRate net.p.fin.w[2](start = 29,nominal = 1,min = 0);
 parameter Real net.w2sim.u(min = 1.0E-4,max = 1);
 Modelica.SIunits.MassFlowRate net.p.fout.w[1](start = -2,nominal = 10,max = 0);
 Modelica.SIunits.MassFlowRate net.p.fout.w[2](start = -29,nominal = 10,max = 0);
 parameter Real net.p.u(min = 1.0E-4,max = 1);
 parameter Modelica.SIunits.Pressure net.w1sim.F_b(start = 1400000.0);
 Modelica.SIunits.Height net.p.h1(fixed = false,min = 0,start = 0.02);
 Modelica.SIunits.Density net.p.rho_G1(fixed = false,min = 0,start = 16.75);
 Modelica.SIunits.Velocity net.p.Uslin(fixed = false,min = 0,start = 1);
 Modelica.SIunits.ReynoldsNumber net.p.Re1(fixed = false,min = 0,start = 1000.0);
 Real net.p.Lambda1(fixed = false,min = 0,start = 0.01);
 Modelica.SIunits.Pressure net.p.Fric_pipe(fixed = false,start = 100000.0);
 Modelica.SIunits.Volume net.p.V_G2(fixed = false,min = 0,start = 11);
 Modelica.SIunits.Pressure net.p.P2_t(min = 550000.0,fixed = false,start = 580000.0,nominal = 100000.0);
 Modelica.SIunits.Pressure net.p.P1(fixed = false,start = net.p.par.P1,min = 2000000.0,max = 3000000.0,nominal = 100000.0);
 Modelica.SIunits.Pressure net.p.P1_f(start = net.x0[11],nominal = net.x0[11],fixed = false,min = 2000000.0,max = 3000000.0);
 Modelica.SIunits.Density net.p.rho_G2(fixed = false,min = 0,start = 5);
 Real net.p.Alpha_L2_av(fixed = false,min = 0,max = 1,start = 0.12);
 Modelica.SIunits.Density net.p.rho_mix_av(fixed = false,min = 0,start = 70);
 Modelica.SIunits.Velocity net.p.Usl2(fixed = false,min = 0,start = 1);
 Modelica.SIunits.Velocity net.p.Usg2(fixed = false,min = 0,start = 14);
 Modelica.SIunits.Velocity net.p.Um(fixed = false,min = 0,start = 15);
 Modelica.SIunits.ReynoldsNumber net.p.Re2(fixed = false,min = 0,start = 1000000.0);
 parameter Modelica.SIunits.Pressure net.w2sim.F_b(start = 1400000.0);
 Real net.p.Lambda2(fixed = false,min = 0,start = 0.01);
 Modelica.SIunits.Pressure net.p.Fric_riser(fixed = false,min = 0,start = 30000.0);
 Modelica.SIunits.Area net.p.A_g(fixed = false,min = 0.002,max = net.p.A1,start = 0.03);
 Modelica.SIunits.Area net.p.A_l(fixed = false,min = 0.002,max = net.p.A1,start = 0.006);
 Modelica.SIunits.Pressure net.p.P2_b(fixed = false,start = 1000000.0);
 Modelica.SIunits.MassFlowRate net.p.w_G1(fixed = false,min = 0,start = 2);
 Modelica.SIunits.MassFlowRate net.p.w_L1(fixed = false,min = 0,start = 30);
 Modelica.SIunits.MassFlowRate net.p.w_G_out(start = 2,min = 0.5,max = 4);
 Modelica.SIunits.MassFlowRate net.p.w_L_out(start = 30,min = 5,max = 40);
 Modelica.SIunits.MassFlowRate net.p.w_G_iph(start = 0.02,min = 0,max = 1);
 Modelica.SIunits.MassFraction net.p.Alpha_Lb(fixed = false,min = 0.05,max = 0.8,start = 0.2);
 Modelica.SIunits.MassFraction net.p.Alpha_LbMax;
 Modelica.SIunits.VolumeFraction net.p.Alpha_L1_av(fixed = false,min = 0.01,max = 0.8,start = 0.2576);
 Modelica.SIunits.VolumeFraction net.p.Alpha_Lt_max(fixed = false,min = 0.01,max = 0.8,start = 0.05);
 Modelica.SIunits.VolumeFraction net.p.Alpha_Lt_min(fixed = false,min = 0.01,max = 0.8,start = 0.05);
 Modelica.SIunits.VolumeFraction net.p.Alpha_Lt(fixed = false,min = 0.01,max = 0.8,start = 0.05);
 Modelica.SIunits.VolumeFraction net.p.Alpha_Gt(fixed = false,min = 0.01,max = 0.8,start = 0.05);
 Modelica.SIunits.MassFraction net.p.Alpha_Lmt(fixed = false,min = 0.1,max = 1,start = 0.89);
 Modelica.SIunits.Density net.p.rho_t(fixed = false,min = 0,start = 65);
 Modelica.SIunits.MassFlowRate net.p.w_mix_out(fixed = false,min = 3,max = 40,start = 29);
 Modelica.SIunits.Density net.p.rho_mix1(fixed = false,min = 0,start = 200);
 Modelica.SIunits.DynamicViscosity net.p.vism_p(fixed = false,min = 0,start = 1.0E-5);
 Modelica.SIunits.Velocity net.p.Usgin(fixed = false,min = 0,start = 1.0E-5);
 Modelica.SIunits.Velocity net.p.Umin(fixed = false,min = 0,start = 1.0E-5);
 Modelica.SIunits.DynamicViscosity net.p.vism_r(fixed = false,min = 1.0E-7,start = 1.0E-5,nominal = 1.0E-5);
 parameter Modelica.SIunits.Pressure net.sep.fin.p(nominal = 100000.0,min = 0);
 Modelica.SIunits.Height net.p.h1ss;
 parameter Real net.p.par.Lambda1;
 Modelica.SIunits.Pressure net.p.deltaP_G(min = 10000.0,nominal = 100000.0);
 Modelica.SIunits.Pressure net.p.deltaP_L(min = 10000.0,nominal = 100000.0);
 Modelica.SIunits.Pressure net.p.deltaP_valve(start = 50000.0,nominal = 100000.0,min = 0);
 Modelica.SIunits.Mass net.p.m_gp(min = 1000,max = 2500,nominal = 2000,start = net.x0[12],fixed = true);
 Modelica.SIunits.Mass net.p.m_lp(min = 26000,max = 27800,nominal = 26350,start = net.x0[13],fixed = true);
 Modelica.SIunits.Mass net.p.m_gr(min = 10,max = 65,nominal = 45,start = net.x0[14],fixed = true);
 Modelica.SIunits.Mass net.p.m_lr(min = 1000,max = 4000,nominal = 2000,start = net.x0[15],fixed = true);
 parameter Modelica.SIunits.Velocity net.w1sim.Usl_av(min = 0,start = net.w1sim.par.w_res_in / (net.w1sim.par.rho_L * 3.141592653589793 * net.w1sim.r_r ^ 2));
 Modelica.SIunits.MassFlowRate net.sep.fin.w[1](start = 2.7,nominal = 1,min = 0);
 Modelica.SIunits.MassFlowRate net.sep.fin.w[2](start = 36.3,nominal = 1,min = 0);
 parameter Modelica.SIunits.Pressure net.sep.Psep_nom = 510000 /* 510000 */;
 parameter Modelica.SIunits.Velocity net.w2sim.Usl_av(min = 0,start = net.w2sim.par.w_res_in / (net.w2sim.par.rho_L * 3.141592653589793 * net.w2sim.r_r ^ 2));
 parameter Real net.w1sim.ORF(min = 0.5,max = 150,start = 4.6689);
 parameter Real gasPrice(min = 0,start = 0) = 0.5 /* 0.5 */;
 input Real Alpha1(min = 0,max = 1,start = 0,nominal = 1);
 input Real Alpha2(min = 0,max = 1,start = 0,nominal = 1);
 input Real P_res1(min = 160,max = 160,start = 160);
 input Real P_res2(min = 170,max = 170,start = 170);
 input Real inputGas1(min = 0.2,max = 2,start = 1);
 input Real inputGas2(min = 0.2,max = 2,start = 1);
 input Real zManifold1(min = 0.1,max = 1,start = 0.5);
 input Real zManifold2(min = 0.1,max = 1,start = 0.5);
 input Real zPipe(min = 0.04,max = 1,start = 0.5);
 parameter Real net.w2sim.ORF(min = 0.5,max = 150,start = 4.6689);
 parameter Real net.p.ORF(min = 0.5,max = 150,start = 4.6689);
 parameter Modelica.SIunits.Pressure net.p.fout.p(start = 600000.0,nominal = 100000.0,min = 0);
 parameter Modelica.SIunits.Pressure net.p.par.Fric_pipe;
 parameter Modelica.SIunits.Pressure net.p.par.P2_av;
 parameter Modelica.SIunits.Density net.p.par.rho_G2_av;
 parameter Modelica.SIunits.MassFraction net.p.par.Alpha_L2_av;
 parameter Modelica.SIunits.Velocity net.p.par.Usg2;
 Modelica.SIunits.Pressure gm1.fout.p(start = 6800000.0,nominal = 100000.0,min = 0);
 Modelica.SIunits.MassFlowRate gm1.fout.w(start = -1,min = -3,max = -0.5,nominal = 1);
 Modelica.Blocks.Interfaces.RealInput gm1.u;
 Modelica.SIunits.Pressure gm2.fout.p(start = 6800000.0,nominal = 100000.0,min = 0);
 Modelica.SIunits.MassFlowRate gm2.fout.w(start = -1,min = -3,max = -0.5,nominal = 1);
 Modelica.Blocks.Interfaces.RealInput gm2.u;
 parameter Modelica.SIunits.Density net.p.par.rho_mix_av;
 parameter Modelica.SIunits.DynamicViscosity net.p.par.vism_r;
 parameter Modelica.SIunits.Velocity net.p.par.Um;
 parameter Modelica.SIunits.ReynoldsNumber net.p.par.Re2;
 parameter Real net.p.par.Lambda2;
 parameter Modelica.SIunits.Pressure net.p.par.Fric_riser;
 parameter Real dPI1.k(start = 1) = 0 "Constant output value" /* 0 */;
 parameter Modelica.SIunits.Pressure net.p.par.P2_b;
 parameter Real dPI2.k(start = 1) = 0 "Constant output value" /* 0 */;
 parameter Real net.p.par.K_g;
 parameter Real dPsep.k(start = 1) = 0 "Constant output value" /* 0 */;
 parameter Real net.p.par.K_o;
 Real Obj(min = 0,max = 100);
 parameter Real startTime = 0 /* 0 */;
 parameter Real finalTime = 3600 /* 3600 */;
 Real der(net.w1sim.w_G_f);
 Real der(net.w1sim.P_bh_f);
 Real der(net.w1sim.m_Ga);
 Real der(net.w1sim.m_Gw);
 Real der(net.w1sim.m_Lw);
 Real der(net.w2sim.w_G_f);
 Real der(net.w2sim.P_bh_f);
 Real der(net.w2sim.m_Ga);
 Real der(net.w2sim.m_Gw);
 Real der(net.w2sim.m_Lw);
 Real der(net.p.P1_f);
 Real der(net.p.m_gp);
 Real der(net.p.m_lp);
 Real der(net.p.m_gr);
 Real der(net.p.m_lr);
initial equation 
 net.w1sim.m_Ga = net.x0[3];
 net.w1sim.m_Gw = net.x0[4];
 net.w1sim.m_Lw = net.x0[5];
 net.w2sim.m_Ga = net.x0[8];
 net.w2sim.m_Gw = net.x0[9];
 net.w2sim.m_Lw = net.x0[10];
 net.p.m_gp = net.x0[12];
 net.p.m_lp = net.x0[13];
 net.p.m_gr = net.x0[14];
 net.p.m_lr = net.x0[15];
equation
 Obj = 0.5760000000000001 * (net.w1sim.fout.w[2] + net.w2sim.fout.w[2] + gasPrice * (inputGas1 + inputGas2));
 net.Dp_w1 = net.w1sim.P_r_t - net.p.fin.p;
 net.Dp_w2 = net.w2sim.P_r_t - net.p.fin.p;
 net.w1sim.rho_G_r = net.w1sim.m_Gw / (net.w1sim.V_r - (net.w1sim.m_Lw - net.w1sim.par.rho_L * net.w1sim.par.L_bh * net.w1sim.par.S_bh) / net.w1sim.par.rho_L);
 net.w1sim.rho_mix = (net.w1sim.m_Gw + net.w1sim.m_Lw - net.w1sim.par.rho_L * net.w1sim.par.L_bh * net.w1sim.par.S_bh) / (net.w1sim.par.L_r * 3.141592653589793 * net.w1sim.r_r ^ 2);
 net.w1sim.alpha_L_av = net.w1sim.m_Lw / (net.w1sim.par.rho_L * (net.w1sim.V_bh + net.w1sim.V_r));
 net.w1sim.P_r_t = net.w1sim.par.Z_ct * net.w1sim.rho_G_r * 8.314472 * net.w1sim.par.T_r / net.w1sim.par.M_G_r_t;
 net.w1sim.Usg_av * (net.w1sim.rho_G_r * 3.141592653589793 * net.w1sim.r_r ^ 2) = net.w1sim.alpha_G_m_in * net.w1sim.par.w_res_in + net.w1sim.w_G_f;
 net.w1sim.U_M_av = net.w1sim.Usl_av + net.w1sim.Usg_av;
 net.w1sim.my_mix = net.w1sim.alpha_L_av * net.w1sim.par.my_L + (1 - net.w1sim.alpha_L_av) * net.w1sim.par.my_G;
 net.w1sim.Re = 2 * net.w1sim.rho_mix * net.w1sim.U_M_av * net.w1sim.r_r / net.w1sim.my_mix;
 net.w1sim.lambda = (1 / (1.8 * log((net.w1sim.par.ew / net.w1sim.par.D_w / 3.7) ^ 1.11 + 6.9 / net.w1sim.Re) / 2.302585092994046)) ^ 2;
 net.w1sim.F_riser = net.w1sim.par.K_f * net.w1sim.lambda * net.w1sim.rho_mix * net.w1sim.U_M_av ^ 2 * (net.w1sim.par.L_r + net.w1sim.par.L_h) / (4 * net.w1sim.r_r);
 net.w1sim.P_r_b = net.w1sim.P_r_t + net.w1sim.rho_mix * 9.80665 * net.w1sim.par.L_r + net.w1sim.F_riser;
 net.w1sim.P_bh = net.w1sim.P_r_b + net.w1sim.par.rho_L * 9.80665 * net.w1sim.par.L_bh + net.w1sim.F_b;
 net.w1sim.w_r_in = net.w1sim.PI * (100000.0 * net.w1sim.P_res - net.w1sim.P_bh_f);
 net.w1sim.w_L_r_in = (1 - net.w1sim.alpha_G_m_in) * net.w1sim.w_r_in;
 net.w1sim.w_G_r_in = net.w1sim.alpha_G_m_in * net.w1sim.w_r_in;
 net.w1sim.rho_G_r_b = net.w1sim.P_r_b * net.w1sim.par.M_G_r_t / (8.314472 * net.w1sim.par.T_r);
 net.w1sim.fin.p = net.w1sim.par.Z_ca * 8.314472 * net.w1sim.par.T_a * net.w1sim.m_Ga / (net.w1sim.par.M_G_a * net.w1sim.par.V_a);
 net.w1sim.P_a_b = net.w1sim.fin.p + net.w1sim.m_Ga * 9.80665 * net.w1sim.par.L_a / net.w1sim.par.V_a;
 net.w1sim.rho_G_a_b = net.w1sim.P_a_b * net.w1sim.par.M_G_a / (8.314472 * net.w1sim.par.T_a);
 net.w1sim.delta_p_inj = net.w1sim.P_a_b - net.w1sim.P_r_b;
 net.w1sim.w_G_inj = net.w1sim.par.k1 * net.w1sim.par.K_a * sqrt(((net.w1sim.rho_G_a_b * net.w1sim.delta_p_inj) ^ 2 + net.w1sim.softPApprox ^ 2) ^ 0.5 / 2 + net.w1sim.rho_G_a_b * net.w1sim.delta_p_inj / 2);
 net.w1sim.alpha_L_in * (net.w1sim.w_L_r_in * net.w1sim.rho_G_r_b + (net.w1sim.w_G_inj + net.w1sim.w_G_r_in) * net.w1sim.par.rho_L) = net.w1sim.w_L_r_in * net.w1sim.rho_G_r_b;
 net.w1sim.alpha_L_t_min = net.w1sim.par.K_alpha * 2 * net.w1sim.alpha_L_av - net.w1sim.alpha_L_in;
 net.w1sim.alpha_L_t_max = (net.w1sim.alpha_L_t_min ^ 2 + net.w1sim.softApprox ^ 2) ^ 0.5 / 2 + net.w1sim.alpha_L_t_min / 2;
 net.w1sim.alpha_L_t = (- ((net.w1sim.alpha_L_t_max - 1) ^ 2 + net.w1sim.softApprox ^ 2) ^ 0.5) / 2 + (net.w1sim.alpha_L_t_max + 1) / 2;
 net.w1sim.rho_M_t = net.w1sim.alpha_L_t * net.w1sim.par.rho_L + (1 - net.w1sim.alpha_L_t) * net.w1sim.rho_G_r;
 net.w1sim.w_mix_out = net.w1sim.par.A_c * sqrt(2 * net.w1sim.rho_M_t * (((net.w1sim.P_r_t - net.w1sim.fout.p) ^ 2 + net.w1sim.softPApprox) ^ 0.5 / 2 + (net.w1sim.P_r_t - net.w1sim.fout.p) / 2) / net.w1sim.ORF);
 net.w1sim.deltaP_valve = net.w1sim.P_r_t - net.w1sim.fout.p;
 net.w1sim.alpha_G_t = (1 - net.w1sim.alpha_L_t) * (net.w1sim.P_bh_f / net.w1sim.par.P_z) ^ (-1 / net.w1sim.par.Gamma);
 net.w1sim.alpha_L_m_t * ((1 - net.w1sim.alpha_G_t) * net.w1sim.par.rho_L + net.w1sim.alpha_G_t * net.w1sim.rho_G_r) = (1 - net.w1sim.alpha_G_t) * net.w1sim.par.rho_L;
 net.w1sim.w_L_out = net.w1sim.alpha_L_m_t * net.w1sim.w_mix_out;
 net.w1sim.fout.w[2] = - net.w1sim.w_L_out;
 net.w1sim.w_G_out = (1 - net.w1sim.alpha_L_m_t) * net.w1sim.w_mix_out;
 net.w1sim.fout.w[1] = - net.w1sim.w_G_out;
 net.w1sim.w_G_iph = net.w1sim.par.K_i * net.w1sim.w_L_r_in;
 net.w1sim.GOR_m_t = net.w1sim.w_G_out / net.w1sim.w_L_out;
 der(net.w1sim.w_G_f) = (net.w1sim.fin.w - net.w1sim.w_G_f) / net.w1sim.par.Tp1;
 der(net.w1sim.P_bh_f) = (net.w1sim.P_bh - net.w1sim.P_bh_f) / net.w1sim.par.Tp2;
 der(net.w1sim.m_Ga) = net.w1sim.w_G_f - net.w1sim.w_G_inj;
 der(net.w1sim.m_Gw) = net.w1sim.w_G_r_in + net.w1sim.w_G_iph + net.w1sim.w_G_inj + net.w1sim.fout.w[1];
 der(net.w1sim.m_Lw) = net.w1sim.w_L_r_in - net.w1sim.w_G_iph + net.w1sim.fout.w[2];
 net.w2sim.rho_G_r = net.w2sim.m_Gw / (net.w2sim.V_r - (net.w2sim.m_Lw - net.w2sim.par.rho_L * net.w2sim.par.L_bh * net.w2sim.par.S_bh) / net.w2sim.par.rho_L);
 net.w2sim.rho_mix = (net.w2sim.m_Gw + net.w2sim.m_Lw - net.w2sim.par.rho_L * net.w2sim.par.L_bh * net.w2sim.par.S_bh) / (net.w2sim.par.L_r * 3.141592653589793 * net.w2sim.r_r ^ 2);
 net.w2sim.alpha_L_av = net.w2sim.m_Lw / (net.w2sim.par.rho_L * (net.w2sim.V_bh + net.w2sim.V_r));
 net.w2sim.P_r_t = net.w2sim.par.Z_ct * net.w2sim.rho_G_r * 8.314472 * net.w2sim.par.T_r / net.w2sim.par.M_G_r_t;
 net.w2sim.Usg_av * (net.w2sim.rho_G_r * 3.141592653589793 * net.w2sim.r_r ^ 2) = net.w2sim.alpha_G_m_in * net.w2sim.par.w_res_in + net.w2sim.w_G_f;
 net.w2sim.U_M_av = net.w2sim.Usl_av + net.w2sim.Usg_av;
 net.w2sim.my_mix = net.w2sim.alpha_L_av * net.w2sim.par.my_L + (1 - net.w2sim.alpha_L_av) * net.w2sim.par.my_G;
 net.w2sim.Re = 2 * net.w2sim.rho_mix * net.w2sim.U_M_av * net.w2sim.r_r / net.w2sim.my_mix;
 net.w2sim.lambda = (1 / (1.8 * log((net.w2sim.par.ew / net.w2sim.par.D_w / 3.7) ^ 1.11 + 6.9 / net.w2sim.Re) / 2.302585092994046)) ^ 2;
 net.w2sim.F_riser = net.w2sim.par.K_f * net.w2sim.lambda * net.w2sim.rho_mix * net.w2sim.U_M_av ^ 2 * (net.w2sim.par.L_r + net.w2sim.par.L_h) / (4 * net.w2sim.r_r);
 net.w2sim.P_r_b = net.w2sim.P_r_t + net.w2sim.rho_mix * 9.80665 * net.w2sim.par.L_r + net.w2sim.F_riser;
 net.w2sim.P_bh = net.w2sim.P_r_b + net.w2sim.par.rho_L * 9.80665 * net.w2sim.par.L_bh + net.w2sim.F_b;
 net.w2sim.w_r_in = net.w2sim.PI * (100000.0 * net.w2sim.P_res - net.w2sim.P_bh_f);
 net.w2sim.w_L_r_in = (1 - net.w2sim.alpha_G_m_in) * net.w2sim.w_r_in;
 net.w2sim.w_G_r_in = net.w2sim.alpha_G_m_in * net.w2sim.w_r_in;
 net.w2sim.rho_G_r_b = net.w2sim.P_r_b * net.w2sim.par.M_G_r_t / (8.314472 * net.w2sim.par.T_r);
 net.w2sim.fin.p = net.w2sim.par.Z_ca * 8.314472 * net.w2sim.par.T_a * net.w2sim.m_Ga / (net.w2sim.par.M_G_a * net.w2sim.par.V_a);
 net.w2sim.P_a_b = net.w2sim.fin.p + net.w2sim.m_Ga * 9.80665 * net.w2sim.par.L_a / net.w2sim.par.V_a;
 net.w2sim.rho_G_a_b = net.w2sim.P_a_b * net.w2sim.par.M_G_a / (8.314472 * net.w2sim.par.T_a);
 net.w2sim.delta_p_inj = net.w2sim.P_a_b - net.w2sim.P_r_b;
 net.w2sim.w_G_inj = net.w2sim.par.k1 * net.w2sim.par.K_a * sqrt(((net.w2sim.rho_G_a_b * net.w2sim.delta_p_inj) ^ 2 + net.w2sim.softPApprox ^ 2) ^ 0.5 / 2 + net.w2sim.rho_G_a_b * net.w2sim.delta_p_inj / 2);
 net.w2sim.alpha_L_in * (net.w2sim.w_L_r_in * net.w2sim.rho_G_r_b + (net.w2sim.w_G_inj + net.w2sim.w_G_r_in) * net.w2sim.par.rho_L) = net.w2sim.w_L_r_in * net.w2sim.rho_G_r_b;
 net.w2sim.alpha_L_t_min = net.w2sim.par.K_alpha * 2 * net.w2sim.alpha_L_av - net.w2sim.alpha_L_in;
 net.w2sim.alpha_L_t_max = (net.w2sim.alpha_L_t_min ^ 2 + net.w2sim.softApprox ^ 2) ^ 0.5 / 2 + net.w2sim.alpha_L_t_min / 2;
 net.w2sim.alpha_L_t = (- ((net.w2sim.alpha_L_t_max - 1) ^ 2 + net.w2sim.softApprox ^ 2) ^ 0.5) / 2 + (net.w2sim.alpha_L_t_max + 1) / 2;
 net.w2sim.rho_M_t = net.w2sim.alpha_L_t * net.w2sim.par.rho_L + (1 - net.w2sim.alpha_L_t) * net.w2sim.rho_G_r;
 net.w2sim.w_mix_out = net.w2sim.par.A_c * sqrt(2 * net.w2sim.rho_M_t * (((net.w2sim.P_r_t - net.w2sim.fout.p) ^ 2 + net.w2sim.softPApprox) ^ 0.5 / 2 + (net.w2sim.P_r_t - net.w2sim.fout.p) / 2) / net.w2sim.ORF);
 net.w2sim.deltaP_valve = net.w2sim.P_r_t - net.w2sim.fout.p;
 net.w2sim.alpha_G_t = (1 - net.w2sim.alpha_L_t) * (net.w2sim.P_bh_f / net.w2sim.par.P_z) ^ (-1 / net.w2sim.par.Gamma);
 net.w2sim.alpha_L_m_t * ((1 - net.w2sim.alpha_G_t) * net.w2sim.par.rho_L + net.w2sim.alpha_G_t * net.w2sim.rho_G_r) = (1 - net.w2sim.alpha_G_t) * net.w2sim.par.rho_L;
 net.w2sim.w_L_out = net.w2sim.alpha_L_m_t * net.w2sim.w_mix_out;
 net.w2sim.fout.w[2] = - net.w2sim.w_L_out;
 net.w2sim.w_G_out = (1 - net.w2sim.alpha_L_m_t) * net.w2sim.w_mix_out;
 net.w2sim.fout.w[1] = - net.w2sim.w_G_out;
 net.w2sim.w_G_iph = net.w2sim.par.K_i * net.w2sim.w_L_r_in;
 net.w2sim.GOR_m_t = net.w2sim.w_G_out / net.w2sim.w_L_out;
 der(net.w2sim.w_G_f) = (net.w2sim.fin.w - net.w2sim.w_G_f) / net.w2sim.par.Tp1;
 der(net.w2sim.P_bh_f) = (net.w2sim.P_bh - net.w2sim.P_bh_f) / net.w2sim.par.Tp2;
 der(net.w2sim.m_Ga) = net.w2sim.w_G_f - net.w2sim.w_G_inj;
 der(net.w2sim.m_Gw) = net.w2sim.w_G_r_in + net.w2sim.w_G_iph + net.w2sim.w_G_inj + net.w2sim.fout.w[1];
 der(net.w2sim.m_Lw) = net.w2sim.w_L_r_in - net.w2sim.w_G_iph + net.w2sim.fout.w[2];
 net.m.fout.w[1] = - net.m.fin.w[1];
 net.m.fout.w[2] = - net.m.fin.w[2];
 net.m.fin.p = net.m.fout.p + net.m.Fric;
 net.p.fin.p = net.p.P1_f;
 net.p.rho_G1 = net.p.fin.p * net.p.par.M_Gp / (net.p.Z_c * 8.314472 * net.p.par.T1);
 net.p.Alpha_L1_av = net.p.fin.w[2] * net.p.rho_G1 / (net.p.fin.w[2] * net.p.rho_G1 + net.p.fin.w[1] * net.p.par.rho_L);
 net.p.h1ss = net.p.par.k_h * net.p.Alpha_L1_av * net.p.hc;
 net.p.h1 = ((net.p.h1ss + sin(net.p.par.theta) / (net.p.A1 * (1 - net.p.Alpha_L1_av) * net.p.par.rho_L) * (net.p.m_lp - net.p.m_lp0t)) ^ 2 + net.p.softApprox) ^ 0.5 / 2 + (net.p.h1ss + sin(net.p.par.theta) / (net.p.A1 * (1 - net.p.Alpha_L1_av) * net.p.par.rho_L) * (net.p.m_lp - net.p.m_lp0t)) / 2;
 net.p.V_G2 = net.p.V2 - net.p.m_lr / net.p.par.rho_L;
 net.p.P1 = net.p.Z_c * net.p.m_gp * 8.314472 * net.p.par.T1 / (net.p.par.M_Gp * (net.p.V1 - net.p.m_lp / net.p.par.rho_L));
 net.p.rho_mix1 = net.p.Alpha_L1_av * net.p.par.rho_L + (1 - net.p.Alpha_L1_av) * net.p.rho_G1;
 net.p.Uslin = net.p.fin.w[2] / (net.p.A1 * net.p.par.rho_L);
 net.p.Usgin * (net.p.A1 * net.p.rho_G1) = net.p.fin.w[1];
 net.p.Umin = net.p.Uslin + net.p.Usgin;
 net.p.vism_p = net.p.Alpha_L1_av * net.p.par.visl + (1 - net.p.Alpha_L1_av) * net.p.par.visg;
 net.p.Re1 = sqrt((net.p.rho_mix1 * net.p.Umin * (2 * net.p.par.r1) / net.p.vism_p) ^ 2 + net.p.softPApprox) / 2 + net.p.rho_mix1 * net.p.Umin * (2 * net.p.par.r1) / net.p.vism_p / 2;
 net.p.Lambda1 = 0.0056 + 0.5 * (((net.p.Re1 - net.p.softApprox) ^ 2 + net.p.softApprox ^ 2) ^ 0.5 / 2 + (net.p.Re1 + net.p.softApprox) / 2) ^ -0.32;
 net.p.Fric_pipe = net.p.Alpha_L1_av * net.p.Lambda1 * net.p.par.rho_L * net.p.Uslin ^ 2 * net.p.par.L1 / (2 * net.p.par.r1);
 net.p.P2_t = sqrt((net.p.Z_c * net.p.m_gr * 8.314472 * net.p.par.T2 / (net.p.par.M_Gr * net.p.V_G2) - net.p.fout.p) ^ 2 + net.p.softPApprox ^ 2) / 2 + (net.p.Z_c * net.p.m_gr * 8.314472 * net.p.par.T2 / (net.p.par.M_Gr * net.p.V_G2) + net.p.fout.p) / 2;
 net.p.rho_G2 * net.p.V_G2 = net.p.m_gr;
 net.p.Alpha_L2_av = net.p.m_lr / (net.p.par.rho_L * net.p.V2);
 net.p.rho_mix_av = (net.p.m_gr + net.p.m_lr) / net.p.V2;
 net.p.Usl2 = net.p.fin.w[2] / (net.p.par.rho_L * net.p.A2);
 net.p.Usg2 * (net.p.rho_G2 * net.p.A2) = net.p.fin.w[1];
 net.p.Um = net.p.Usl2 + net.p.Usg2;
 net.p.vism_r = net.p.Alpha_L2_av * net.p.par.visl + (1 - net.p.Alpha_L2_av) * net.p.par.visg;
 net.p.Re2 = sqrt((net.p.rho_mix_av * net.p.Um * (2 * net.p.par.r2) / net.p.vism_r) ^ 2 + net.p.softPApprox) / 2 + net.p.rho_mix_av * net.p.Um * (2 * net.p.par.r2) / net.p.vism_r / 2;
 net.p.Lambda2 = 0.0056 + 0.5 * (((net.p.Re2 - net.p.softApprox) ^ 2 + net.p.softApprox ^ 2) ^ 0.5 / 2 + (net.p.Re2 + net.p.softApprox) / 2) ^ -0.32;
 net.p.Fric_riser = net.p.Alpha_L2_av * net.p.Lambda2 * net.p.rho_mix_av * net.p.Um ^ 2 * (net.p.par.L2 + net.p.par.L3) / (2 * net.p.par.r2);
 net.p.A_g = net.p.A1 * ((((net.p.hc - net.p.h1) / net.p.hc) ^ 2 + net.p.softApprox) ^ 0.5 / 2 + (net.p.hc - net.p.h1) / net.p.hc / 2) ^ 2;
 net.p.A_l = net.p.A1 - net.p.A_g;
 net.p.P2_b = net.p.P2_t + net.p.rho_mix_av * 9.80665 * net.p.par.L2 + net.p.Fric_riser;
 net.p.deltaP_G = net.p.P1_f - net.p.Fric_pipe - net.p.P2_b;
 net.p.w_G1 = net.p.par.K_gT * net.p.par.K_g * net.p.A_g * sqrt(net.p.rho_G1 * ((net.p.deltaP_G ^ 2 + net.p.softApprox) ^ 0.5 / 2 + net.p.deltaP_G / 2));
 net.p.deltaP_L = net.p.P1_f - net.p.Fric_pipe + net.p.par.rho_L * 9.80665 * net.p.h1 - net.p.P2_b;
 net.p.w_L1 = net.p.par.K_oT * net.p.par.K_o * net.p.A_l * sqrt(net.p.par.rho_L * ((net.p.deltaP_L ^ 2 + net.p.softApprox) ^ 0.5 / 2 + net.p.deltaP_L / 2));
 net.p.Alpha_LbMax = ((1 - net.p.A_g / net.p.A1 - net.p.Alpha_L2_av) ^ 2 + net.p.softApprox) ^ 0.5 / 2 + (1 - net.p.A_g / net.p.A1 + net.p.Alpha_L2_av) / 2;
 net.p.Alpha_Lb = (- ((net.p.Alpha_LbMax - 1) ^ 2 + net.p.softApprox) ^ 0.5) / 2 + (net.p.Alpha_LbMax + 1) / 2;
 net.p.Alpha_Lt_min = net.p.par.K_alpha * 2 * net.p.Alpha_L2_av - net.p.Alpha_Lb;
 net.p.Alpha_Lt_max = (net.p.Alpha_Lt_min ^ 2 + net.p.softApprox ^ 2) ^ 0.5 / 2 + net.p.Alpha_Lt_min / 2;
 net.p.Alpha_Lt = (- ((net.p.Alpha_Lt_max - net.p.Alpha_L2_av) ^ 2 + net.p.softApprox ^ 2) ^ 0.5) / 2 + (net.p.Alpha_Lt_max + net.p.Alpha_L2_av) / 2;
 net.p.Alpha_Gt = 1 - net.p.Alpha_Lt;
 net.p.Alpha_Lmt * ((1 - net.p.Alpha_Gt) * net.p.par.rho_L + net.p.Alpha_Gt * net.p.rho_G2) = (1 - net.p.Alpha_Gt) * net.p.par.rho_L;
 net.p.rho_t = net.p.Alpha_Lt * net.p.par.rho_L + (1 - net.p.Alpha_Lt) * net.p.rho_G2;
 net.p.w_mix_out = net.p.par.A_c * sqrt(2 * net.p.rho_t * (((net.p.P2_t - net.p.fout.p) ^ 2 + net.p.softPApprox) ^ 0.5 / 2 + (net.p.P2_t - net.p.fout.p) / 2) / net.p.ORF);
 net.p.deltaP_valve = net.p.P2_t - net.p.fout.p;
 net.p.w_G_iph = net.p.par.K_i * net.p.w_L1;
 net.p.w_G_out = (1 - net.p.Alpha_Lmt) * net.p.w_mix_out;
 net.p.w_L_out = net.p.w_mix_out - net.p.w_G_out;
 net.p.fout.w[1] = - net.p.w_G_out;
 net.p.fout.w[2] = - net.p.w_L_out;
 der(net.p.P1_f) = (net.p.P1 - net.p.P1_f) / net.p.par.Tf;
 der(net.p.m_gp) = net.p.fin.w[1] - net.p.w_G1;
 der(net.p.m_lp) = net.p.fin.w[2] - net.p.w_L1;
 der(net.p.m_gr) = net.p.w_G1 + net.p.w_G_iph + net.p.fout.w[1];
 der(net.p.m_lr) = net.p.w_L1 - net.p.w_G_iph + net.p.fout.w[2];
 gm1.fout.w = - gm1.u;
 gm2.fout.w = - gm2.u;
 gm1.fout.p = net.w1sim.fin.p;
 gm1.fout.w + net.w1sim.fin.w = 0;
 gm2.fout.p = net.w2sim.fin.p;
 gm2.fout.w + net.w2sim.fin.w = 0;
 net.m.fin.p = net.w1sim.fout.p;
 net.w1sim.fout.p = net.w2sim.fout.p;
 net.m.fin.w[1] + net.w1sim.fout.w[1] + net.w2sim.fout.w[1] = 0;
 net.m.fin.w[2] + net.w1sim.fout.w[2] + net.w2sim.fout.w[2] = 0;
 net.m.fout.p = net.p.fin.p;
 net.m.fout.w[1] + net.p.fin.w[1] = 0;
 net.m.fout.w[2] + net.p.fin.w[2] = 0;
 net.p.fout.w[1] + net.sep.fin.w[1] = 0;
 net.p.fout.w[2] + net.sep.fin.w[2] = 0;
 gm1.u = inputGas1;
 gm2.u = inputGas2;
parameter equation
 net.w1sim.par.P_z = net.x0[2];
 net.w1sim.r_r = net.w1sim.par.D_w / 2;
 net.w1sim.V_r = 3.141592653589793 * (net.w1sim.par.D_w / 2) ^ 2 * net.w1sim.par.L_h + 3.141592653589793 * (net.w1sim.par.D_w / 2) ^ 2 * net.w1sim.par.L_r;
 net.w1sim.V_bh = net.w1sim.par.L_bh * net.w1sim.par.S_bh;
 net.w2sim.par.P_z = net.x0[7];
 net.w2sim.r_r = net.w2sim.par.D_w / 2;
 net.w2sim.V_r = 3.141592653589793 * (net.w2sim.par.D_w / 2) ^ 2 * net.w2sim.par.L_h + 3.141592653589793 * (net.w2sim.par.D_w / 2) ^ 2 * net.w2sim.par.L_r;
 net.w2sim.V_bh = net.w2sim.par.L_bh * net.w2sim.par.S_bh;
 net.m.A = 3.141592653589793 * net.m.par.r ^ 2;
 net.p.par.A1 = 3.141592653589793 * net.p.par.r1 ^ 2;
 net.p.par.A2 = 3.141592653589793 * net.p.par.r2 ^ 2;
 net.p.par.hc = 2 * net.p.par.r1 / cos(net.p.par.theta);
 net.p.par.w_mix = net.p.par.wL_in + net.p.par.wG_in;
 net.p.par.rho_G1 = net.p.par.P1 * net.p.par.M_Gp / (8.314472 * net.p.par.T1);
 net.p.par.vism_p = net.p.par.Alpha_L1_ss * net.p.par.visl + (1 - net.p.par.Alpha_L1_ss) * net.p.par.visg;
 net.p.par.rho_G2 = net.p.par.P2_t * net.p.par.M_Gr / (8.314472 * net.p.par.T2);
 net.p.A1 = 3.141592653589793 * net.p.par.r1 ^ 2;
 net.p.A2 = 3.141592653589793 * net.p.par.r2 ^ 2;
 net.p.hc = 2 * net.p.par.r1 / cos(net.p.par.theta);
 Pr1.k = P_res1;
 Pr2.k = P_res2;
 Alpha_Gm1.k = Alpha1;
 Alpha_Gm2.k = Alpha2;
 u1.k = zManifold1;
 u2.k = zManifold2;
 up.k = zPipe;
 net.w1sim.Ul_b = net.w1sim.par.w_res_in / (net.w1sim.par.rho_L * net.w1sim.par.S_bh);
 net.w2sim.Ul_b = net.w2sim.par.w_res_in / (net.w2sim.par.rho_L * net.w2sim.par.S_bh);
 net.p.Z_c = net.p.par.Z_c0;
 dPI1.y = dPI1.k;
 dPI2.y = dPI2.k;
 dPsep.y = dPsep.k;
 net.p.par.Uslin = net.p.par.wL_in / (net.p.par.A1 * net.p.par.rho_L);
 net.p.par.Usl2 = net.p.par.wL_in / (net.p.par.rho_L * net.p.par.A2);
 net.p.par.h1ss = net.p.par.k_h * net.p.par.Alpha_L1_ss * net.p.par.hc;
 net.p.par.rho_mix1 = net.p.par.Alpha_L1_ss * net.p.par.rho_L + (1 - net.p.par.Alpha_L1_ss) * net.p.par.rho_G1;
 net.p.par.Usgin = net.p.par.wG_in / (net.p.par.A1 * net.p.par.rho_G1);
 net.p.par.Alpha_Lt = net.p.par.rho_G2 * net.p.par.wL_in / (net.p.par.rho_G2 * net.p.par.wL_in + net.p.par.rho_L * net.p.par.wG_in);
 net.p.V1 = net.p.A1 * net.p.par.L1;
 net.p.V2 = net.p.A2 * (net.p.par.L2 + net.p.par.L3);
 Pr1.y = Pr1.k;
 Pr2.y = Pr2.k;
 Alpha_Gm1.y = Alpha_Gm1.k;
 Alpha_Gm2.y = Alpha_Gm2.k;
 u1.y = u1.k;
 u2.y = u2.k;
 up.y = up.k;
 net.w1sim.Re_b = net.w1sim.par.rho_L * net.w1sim.Ul_b * net.w1sim.par.D_b / net.w1sim.par.my_L;
 net.w2sim.Re_b = net.w2sim.par.rho_L * net.w2sim.Ul_b * net.w2sim.par.D_b / net.w2sim.par.my_L;
 net.w1sim.d_PI = dPI1.y;
 net.w2sim.d_PI = dPI2.y;
 net.sep.d_Psep = dPsep.y;
 net.p.par.A_g = net.p.par.A1 * ((((net.p.par.hc - net.p.par.h1ss) / net.p.par.hc) ^ 2 + net.p.par.softApprox ^ 2) ^ 0.5 / 2 + (net.p.par.hc - net.p.par.h1ss) / net.p.par.hc / 2) ^ 2;
 net.p.par.Umin = net.p.par.Uslin + net.p.par.Usgin;
 net.p.par.rho_t = net.p.par.Alpha_Lt * net.p.par.rho_L + (1 - net.p.par.Alpha_Lt) * net.p.par.rho_G2;
 net.p.m_lp0t = net.p.V1 * net.p.par.rho_L * net.p.par.Alpha_L1_ss;
 net.w1sim.P_res = Pr1.y;
 net.w2sim.P_res = Pr2.y;
 net.w1sim.alpha_Gm = Alpha_Gm1.y;
 net.w2sim.alpha_Gm = Alpha_Gm2.y;
 net.w1sim.z1 = u1.y;
 net.w2sim.z1 = u2.y;
 net.p.z = up.y;
 net.w1sim.lambda_b = (1 / (1.8 * log((net.w1sim.par.ew / net.w1sim.par.D_b / 3.7) ^ 1.11 + 6.9 / net.w1sim.Re_b) / 2.302585092994046)) ^ 2;
 net.w2sim.lambda_b = (1 / (1.8 * log((net.w2sim.par.ew / net.w2sim.par.D_b / 3.7) ^ 1.11 + 6.9 / net.w2sim.Re_b) / 2.302585092994046)) ^ 2;
 net.w1sim.PI = net.w1sim.par.PI_nom + net.w1sim.d_PI * net.w1sim.par.PI_nom / 50;
 net.w2sim.PI = net.w2sim.par.PI_nom + net.w2sim.d_PI * net.w2sim.par.PI_nom / 50;
 net.sep.Psep = net.sep.Psep_nom + net.sep.d_Psep;
 net.p.par.A_l = net.p.par.A1 - net.p.par.A_g;
 net.p.par.v_G1 = net.p.par.wG_in / (net.p.par.rho_G1 * net.p.par.A_g);
 net.p.par.Re1 = net.p.par.rho_mix1 * net.p.par.Umin * (2 * net.p.par.r1) / net.p.par.vism_p;
 net.w1sim.alpha_G_m_in = net.w1sim.alpha_Gm;
 net.w2sim.alpha_G_m_in = net.w2sim.alpha_Gm;
 net.w1sim.u = sqrt(net.w1sim.z1 ^ 2 + net.w1sim.softApprox ^ 2) / 2 + net.w1sim.z1 / 2;
 net.w2sim.u = sqrt(net.w2sim.z1 ^ 2 + net.w2sim.softApprox ^ 2) / 2 + net.w2sim.z1 / 2;
 net.p.u = sqrt(net.p.z ^ 2 + net.p.softApprox ^ 2) / 2 + net.p.z / 2;
 net.w1sim.F_b = net.w1sim.lambda_b * net.w1sim.par.rho_L * net.w1sim.Ul_b ^ 2 * net.w1sim.par.L_bh / (4 * net.w1sim.r_r);
 net.w2sim.F_b = net.w2sim.lambda_b * net.w2sim.par.rho_L * net.w2sim.Ul_b ^ 2 * net.w2sim.par.L_bh / (4 * net.w2sim.r_r);
 net.sep.fin.p = net.sep.Psep;
 net.p.par.Lambda1 = 0.0056 + 0.5 * net.p.par.Re1 ^ -0.32;
 net.w1sim.Usl_av = (1 - net.w1sim.alpha_G_m_in) * net.w1sim.par.w_res_in / (net.w1sim.par.rho_L * 3.141592653589793 * net.w1sim.r_r ^ 2);
 net.w2sim.Usl_av = (1 - net.w2sim.alpha_G_m_in) * net.w2sim.par.w_res_in / (net.w2sim.par.rho_L * 3.141592653589793 * net.w2sim.r_r ^ 2);
 net.w1sim.ORF = ((1 / (net.w1sim.u ^ 2 * net.w1sim.par.k2 ^ 2 * net.w1sim.par.CD ^ 2) - 1) ^ 2 + net.w1sim.softApprox ^ 2) ^ 0.5 / 2 + (1 / (net.w1sim.u ^ 2 * net.w1sim.par.k2 ^ 2 * net.w1sim.par.CD ^ 2) - 1) / 2;
 net.w2sim.ORF = ((1 / (net.w2sim.u ^ 2 * net.w2sim.par.k2 ^ 2 * net.w2sim.par.CD ^ 2) - 1) ^ 2 + net.w2sim.softApprox ^ 2) ^ 0.5 / 2 + (1 / (net.w2sim.u ^ 2 * net.w2sim.par.k2 ^ 2 * net.w2sim.par.CD ^ 2) - 1) / 2;
 net.p.ORF = sqrt((1 / (net.p.u ^ 2 * net.p.par.Cd ^ 2) - 1) ^ 2 + net.p.softApprox ^ 2) / 2 + (1 / (net.p.u ^ 2 * net.p.par.Cd ^ 2) - 1) / 2;
 net.p.fout.p = net.sep.fin.p;
 net.p.par.Fric_pipe = 0.5 * net.p.par.Alpha_L1_ss * net.p.par.Lambda1 * net.p.par.rho_L * net.p.par.Uslin ^ 2 * net.p.par.L1 / (2 * net.p.par.r1);
 net.p.par.P2_av = (net.p.par.P1 + net.p.par.rho_L * 9.80665 * net.p.par.h1ss - net.p.par.Fric_pipe + net.p.par.P2_t) / 2;
 net.p.par.rho_G2_av = net.p.par.P2_av * net.p.par.M_Gr / (8.314472 * net.p.par.T2);
 net.p.par.Alpha_L2_av = net.p.par.rho_G2_av * net.p.par.wL_in / (net.p.par.rho_G2_av * net.p.par.wL_in + net.p.par.rho_L * net.p.par.wG_in);
 net.p.par.Usg2 = net.p.par.wG_in / (net.p.par.rho_G2_av * net.p.par.A2);
 net.p.par.rho_mix_av = net.p.par.rho_G2_av * (1 - net.p.par.Alpha_L2_av) + net.p.par.rho_L * net.p.par.Alpha_L2_av;
 net.p.par.vism_r = net.p.par.Alpha_L2_av * net.p.par.visl + (1 - net.p.par.Alpha_L2_av) * net.p.par.visg;
 net.p.par.Um = net.p.par.Usl2 + net.p.par.Usg2;
 net.p.par.Re2 = net.p.par.rho_mix_av * net.p.par.Um * 2 * net.p.par.r2 / net.p.par.vism_r;
 net.p.par.Lambda2 = (1 / (-1.8 * log((net.p.par.eps / (2 * net.p.par.r2) / 3.7) ^ 1.11 + 6.9 / net.p.par.Re2) / 2.302585092994046)) ^ 2;
 net.p.par.Fric_riser = 0.5 * net.p.par.Lambda2 * net.p.par.rho_mix_av * net.p.par.Um ^ 2 * (net.p.par.L2 + net.p.par.L3) / (2 * net.p.par.r2);
 net.p.par.P2_b = net.p.par.P2_t + net.p.par.rho_mix_av * 9.80665 * net.p.par.L2 + net.p.par.Fric_riser;
 net.p.par.K_g = net.p.par.v_G1 / sqrt((net.p.par.P1 - net.p.par.Fric_pipe - net.p.par.P2_b) / net.p.par.rho_G1);
 net.p.par.K_o = net.p.par.wL_in / (net.p.par.A_l * sqrt(net.p.par.rho_L * (net.p.par.P1 - net.p.par.Fric_pipe + net.p.par.rho_L * 9.80665 * net.p.par.h1ss - net.p.par.P2_b)));
constraint 
 net.p.P2_t <= 1000000.0;
end ocpGaslift_OpenLoop_Sim;
</pre>
</body>
</html>
